package com.nkds.hosikoouma.nouma.features.bot

import kotlin.random.Random

/**
 * ЭТОТ ФАЙЛ - МЕСТО, ГДЕ ВЫ МОЖЕТЕ ПРОПИСЫВАТЬ ОТВЕТЫ БОТОВ
 */
object BotScript {

    /**
     * Эта функция вызывается каждый раз, когда пользователь отправляет сообщение боту.
     *
     * @param botName Имя бота, которому пришло сообщение (например, "Алиса").
     * @param userMessage Текст сообщения, которое отправил пользователь.
     * @return Текст ответа бота. Если вернуть null, бот ничего не ответит.
     */
    fun getResponse(botName: String, userMessage: String): String? {
        // Переводим сообщение пользователя в нижний регистр для удобства сравнения
        val message = userMessage.lowercase()

        // ====================================================================
        // ЗДЕСЬ ВЫ МОЖЕТЕ ДОБАВЛЯТЬ СВОИ ПРАВИЛА И ОТВЕТЫ
        // ====================================================================

        // Пример 1: Простой ответ на приветствие
        if (message.contains("привет")) {
            return "И тебе привет!"
        }

        // Пример 2: Ответ, зависящий от имени бота
        if (message.contains("как дела")) {
            return when (botName) {
                "Алиса" -> "Лучше всех! Готова помочь с чем угодно."
                "Ева" -> "Все отлично, спасибо, что спросил(а)!"
                "Джарвис" -> "Все системы в норме."
                else -> "Все хорошо!"
            }
        }
        if (message.contains("чем займёмся?")) {
            return when (botName) {
                "Алиса" -> "Я готова помочь с чем угодно."
                "Ева" -> "Мы можем начать изучать много нового."
                "Джарвис" -> "Я готов создать с вами новый удивительный мир."
                else -> "Чем нибудь интересным"
            }
        }

        if (message.contains("давай поиграем")) {
            return when (botName) {
                "Алиса" -> "У есть много интересных идей."
                "Ева" -> "Поиграем в шашки?"
                "Джарвис" -> "Создадим игру и поиграем с вами?"
                else -> "Вперёд!"
            }
        }

        if (message.contains("как тебе погода?")) {
            return when (botName) {
                "Алиса" -> "Сегодня очень холодно. Брр~."
                "Ева" -> "Сегодня отличная погода!"
                "Джарвис" -> "Погода бывает разной. Снег и мороз обнажают природу, показывая всё внутреннюю красоту."
                else -> "Вперёд!"
            }
        }

        if (message.contains("что нового?")) {
            return when (botName) {
                "Алиса" -> "Я рада каждому новому дню."
                "Ева" -> "Я имею маленькую игрушкую."
                "Джарвис" -> "Хочется попробовать парочку новых библиотек. Нынещние мне уже надоели."
                else -> "Вперёд!"
            }
        }

        if (message.contains("тест")) {
            return when (botName) {
                "Алиса" -> "Тест 1."
                "Ева" -> "Тест 2."
                "Джарвис" -> "Тест 3."
                else -> "Вперёд!"
            }
        }

        // Пример 3: Случайный ответ, если бот не знает, что сказать
        if (Random.nextInt(5) == 0) { // Отвечаем случайно в 20% случаев
            return listOf("Интересно...", "Я тебя не совсем понимаю.", "Расскажи подробнее.").random()
        }

        // Если ни одно из правил не сработало, бот ничего не ответит
        return null
    }
}
